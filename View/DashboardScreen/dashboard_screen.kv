
<DashboardScreenView>:
    MDNavigationLayout:
    
        #MDScreenManager permet de g√©rer le contenu principale
        MDScreenManager:
            id: dashboard_screen
            MDScreen:
                name: "dashboard_content"
            
                
                # Utilise un MDBoxLayout principal avec orientation 'vertical' pour empiler les composants
                MDBoxLayout:
                    orientation: 'vertical'

                    #Top Bar ===========================================
                    MDTopAppBar:
                        type: "small"            
                        
                        MDTopAppBarLeadingButtonContainer:
                            MDActionTopAppBarButton:
                                icon: "menu"
                                id: "menu_button"
                                on_press: nav_drawer.set_state("toggle")          
                        
                        MDTopAppBarTitle:
                            text: "Dashboard"
                            
                        MDTopAppBarTrailingButtonContainer:
                            MDActionTopAppBarButton:
                                icon: 
                                    "weather-night" if app.theme_cls.theme_style == 'Light' else "weather-sunny"
                                on_press:
                                    app.apply_styles("Dark") if app.theme_cls.theme_style == 'Light' else app.apply_styles("Light")
                            
                            MDActionTopAppBarButton:
                                icon: "account-circle-outline"


                    #Scool view Horizontal ===================================
                    MDScrollView:
                        id: card_container
                        size_hint: 1, None                  # sur toute la largeur                   
                        height: dp(200)
                        scroll_type: ['bars', 'content']
                        bar_width: "0dp"                
                        do_scroll_x: True
                        do_scroll_y: False
                    
                        MDBoxLayout:
                            orientation: "horizontal"
                            adaptive_width: True                    
                            pos_hint:
                            spacing: "5dp"
                            padding: "10dp"


                            InfoCard:
                                custom_width: card_container.width - dp(30)
                                custom_v1: str(123)
                                custom_v2: str(885)
                                custom_v3: str(416354)

                            InfoCard:
                                custom_width: card_container.width - dp(30)
                                custom_v1: str(484)

                            

                    #Scool view Vertical ===========================================                                    
                    MDScrollView:
                        id: label_container
                        scroll_type: ['bars', 'content']
                        bar_width: "0dp"
                        do_scroll_x: False
                        do_scroll_y: True
                        #on_scroll_y: root.on_scroll(self.scroll_y)
                        

                        MDBoxLayout:
                            orientation: "vertical"
                            adaptive_height: True
                            #height: self.minimum_height
                            spacing: "10dp"
                            padding: "10dp"
                            
                            DataCard:

                            DataCard:

                            DataCard:

                            DataCard:

                    
                    #Botton Bar =====================================================
                    MDNavigationBar:
                        pos_hint: {"bottom": 1}   
                        id: nav_bar_id
                        #active_icon_color: self.theme_cls.primary_color        
                        #active_text_color: self.active_icon_color 

                        canvas.after:
                            Color:
                                rgba: 0, 0, 0, 0.2 # Couleur de la bordure (gris clair)
                            Rectangle:
                                size: self.width, 1 # Hauteur de 1 pixel
                                pos: self.x, self.top - 1

                        BaseMDNavigationItem:
                            text: "Dashboard"
                            icon: "home"
                            font_size: "20sp"
                            id: dashboard_nav_item
                            active: True

                        BaseMDNavigationItem:
                            text: "Operations"
                            icon: "view-list"                
                            font_size: "20sp"               
                            id: operations_nav_item
                            on_release: root.go_to_operations()
                            active : False
                            
                        #BaseMDNavigationItem:
                        #    text: "Import"
                        #    icon: "images/import.png"    
                        #    icon_mode: "standard"            
                        ##    font_size: "20sp"               
                        ##    id: operations_nav_item
                        #    on_release: root.import_databk()
                        #    active : False


        #Menu Burger =====================================================
        MDNavigationDrawer:
            id: nav_drawer
            radius: 0, dp(16), dp(16), 0

            MDNavigationDrawerMenu:
                MDNavigationDrawerLabel:
                    text: "Actions rapides"

                MDNavigationDrawerItem:

                    on_release: print('OK')
                    
                    MDNavigationDrawerItemLeadingIcon:
                        icon: "download-box"

                    MDNavigationDrawerItemText:
                        text: "GGdrive Comptes"

                MDNavigationDrawerDivider:




