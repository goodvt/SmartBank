#:import MDButton kivymd.uix.button.MDButton

<DrivingScreenView>
    MDNavigationLayout:
        MDScreenManager:
            id: driving_screen
            MDScreen:
                name: "driving_content"
             
                #padding:dp(16)
                MDBoxLayout:
                    orientation: 'vertical'
                                       
                    #Top Bar ===========================================
                    MDTopAppBar:
                        type: "small"            
                        
                        MDTopAppBarLeadingButtonContainer:
                            MDActionTopAppBarButton:
                                icon: "arrow-left"
                                id: "retour"
                                on_press: root.controller.goto_menu()
                        
                        MDTopAppBarTitle:
                            text: "Kilométrage a date"
                            theme_text_color: "Secondary" # Utiliser une couleur secondaire peut donner une impression de plus petit      

                    MDScrollView:
                        MDBoxLayout:
                            orientation: 'vertical'
                            padding: dp(16), dp(16)
                            spacing: dp(25)

                            size_hint_y: None  # Empêche le box de s'étendre
                            height: self.minimum_height # Définit la hauteur minimale

                            MDLabel:
                                id: date_display
                                text: "Sélectionner la date"
                                halign: "left"                                
                                height: self.texture_size[1]

                            MDTextField:
                                id: field
                                mode: "filled"

                                text: root.date_imputation
                                on_focus: root.controller.show_date_picker(self, self.focus)

                                MDTextFieldHintText:
                                    text: "Date Imputation"

                                MDTextFieldTrailingIcon:
                                    icon: "calendar"

                            MDLabel:
                                id: date_display
                                text: "Saisir Kilométrage"
                                halign: "left"
                                height: self.texture_size[1]

                            MDTextField:
                                id: mileage_input                                
                                hint_text: "Saisissez le kilométrage"
                                #mode: "rectangle"
                                #input_type: "number" # Permet uniquement les chiffres
                                #max_text_length: 7 # Limite à 7 chiffres pour le kilométrage
                                #helper_text: "Entrez le kilométrage actuel du véhicule"
                                #helper_text_mode: "on_focus"
                                #required: True # Rend le champ obligatoire
                                #validator: "int" # Valide que c'est un entier


                    MDBoxLayout:
                        orientation: "vertical"
                        size_hint_y: None
                        height: dp(70)
                        padding: dp(10), dp(10)

                        MDButton:
                            theme_width: "Custom"   #permet d'étendre le bouton
                            size_hint_x: 1
                            height: dp(50)
                            
                            theme_bg_color:'Custom'     
                            md_bg_color: get_color_from_hex('#0078D4') #1, 1, 1, 1
                            
                            MDButtonText:
                                text: "Enregistrer"
                                theme_text_color: "Custom"
                                text_color: get_color_from_hex("#FFFFFF") #255, 255, 255, 1

                                pos_hint: {"center_x": .5, "center_y": .5}

